#!/bin/sh

#UNAME=`uname -s`
UNAME=$1
USE_THREAD=0
NO_UUIDLIB=1

for arg in $@
do
 case $arg in
   -thread) USE_THREAD=1;;   
   -no_libuuid) NO_UUIDLIB=0;;   
   *) ;;
 esac
done

echo "/* This file is generated by gen_conf */" > include/RtORB/config_rtorb.h
echo "#define ${UNAME}  1" >> include/RtORB/config_rtorb.h

if [ $USE_THREAD -eq 1 ]
then
  echo "#define USE_THREAD  1" >> include/RtORB/config_rtorb.h
  echo "#ifndef _REENTRANT" >> include/RtORB/config_rtorb.h
  echo "#define _REENTRANT  1" >> include/RtORB/config_rtorb.h
  echo "#endif #  _REENTRANT" >> include/RtORB/config_rtorb.h
fi

if [ $NO_UUIDLIB -eq 1 ]
then
  echo "#define USE_UUID  1" >> include/RtORB/config_rtorb.h
fi

